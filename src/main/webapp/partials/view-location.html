<br />
<br /><br /><br />
<div class="container">

	<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
	
	<div class="row">
		<div class="col-lg-12">
			<form class="form-horizontal">
				<fieldset>
					<legend>Viewing {{data.officialname}} in {{data.city}}</legend>
					<div class="form-group">
						<label for="officialname" class="col-lg-2 control-label">Official name</label>
						<div class="col-lg-10">
							<input type="text" class="form-control" ng-model="data.officialname" ly-placeholder="Official name" focus="true" ly-disabled="editableButton">
						</div>
					</div>
					<div class="form-group">
						<label for="streetname" class="col-lg-2 control-label">ADTECH name</label>
						<div class="col-lg-10">
							<input type="text" class="form-control" ng-model="data.streetname" ly-placeholder="ADTECH name" ly-disabled="editableButton">
							<span ng-hide="editableButton" class="help-block">Separate multiple names by comma.</span>
						</div>
					</div>
					<div class="form-group">
						<label for="street" class="col-lg-2 control-label">Address</label>
						<div class="col-lg-4">
							<input type="text" class="form-control" ng-model="data.address" ly-placeholder="Street" ly-disabled="editableButton">
						</div>
						<div class="col-lg-3">
							<input type="text" class="form-control" ng-model="data.zip" ly-placeholder="ZIP" ly-disabled="editableButton">
						</div>
						<div class="col-lg-3">
							<input type="text" class="form-control" ng-model="data.city" ly-placeholder="City" ly-disabled="editableButton">
						</div>
					</div>

					<div class="form-group">
						<label for="comment" class="col-lg-2 control-label">Comment</label>
						<div class="col-lg-10">
							<textarea class="form-control" rows="3" ng-model="data.comment" ly-disabled="editableButton"></textarea>
							<span ng-hide="editableButton" class="help-block">Describe the location without judging it. Your personal opinions should go into a review.</span>
						</div>
					</div>

					<div class="form-group">
						<label for="turnaroundtime" class="col-lg-2 control-label">Turn around time</label>
						<div class="col-lg-10">
							<input type="text" class="form-control" ng-model="data.turnaroundtime" ly-placeholder="e.g. 45" ly-disabled="editableButton"> 
							<span ng-hide="editableButton" class="help-block">Time in minutes to go there, order, eat, pay and get back to the office.</span>
						</div>
					</div>
					
					<div class="form-group">
						<div class="col-lg-10 col-lg-offset-2">
							Created: {{data.createdon | date :'short'}}, last update: {{data.lastupdate | date :'short'}} by {{data.creationUser}}
						</div>
					</div>
					
					<legend>Reviews</legend>
					<div class="form-group">
						<div class="col-lg-2">&nbsp;</div>
						<div class="col-lg-10">
							<div class="list-group">
							    <div ng-repeat="review in reviews" class="list-group-item">
							        <h4 class="list-group-item-heading">{{review.creationUser}} wrote on {{review.lastupdate | date:'short'}}</h4>
							        <p class="list-group-item-text">{{review.comment}}</p>
							        <p ng-show="review.favoritemeal" class="list-group-item-text">My favorite: {{review.favoritemeal}}</p>
							        <p class="list-group-item-text">My rating: {{review.rating}} stars</p>
							    </div>
							</div>
						</div>
					</div>
										
					<div ng-show="addReviewButton">
						<legend>All fields are optional, feel free to just rate it</legend>
						<div class="form-group">
							<label for="comment" class="col-lg-2 control-label">Comment</label>
							<div class="col-lg-10">
								<textarea class="form-control" rows="3" ng-model="newReview.comment"></textarea>
								<span class="help-block">Your personal opinion about this location. What do <strong>you</strong> like and what not?</span>
							</div>
						</div>
						<div class="form-group">
							<label for="streetname" class="col-lg-2 control-label">Your favorite meal</label>
							<div class="col-lg-10">
								<input type="text" class="form-control" ng-model="newReview.favoritemeal">
							</div>
						</div>
						<div class="form-group">
							<label for="streetname" class="col-lg-2 control-label">Your location rating</label>
							<div class="col-lg-10">
								<rating ng-model="newReview.rating" on-hover="hoveringOver(value)" on-leave="hoveringOut()"></rating>
								<span class="help-block">{{newReview.ratingExplained}}</span>
							</div>
						</div>
					</div>
					
					<div class="form-group">
						<div class="col-lg-10 col-lg-offset-2">
							<button ng-hide="editableButton && !addReviewButton" class="btn btn-default" ng-click="cancelEdit()">Cancel</button>
							<button ng-show="Authetication.loggedIn && !addReviewButton" type="button" class="btn btn-primary" ng-model="editableButton" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0" ly-dynamicname="Save;Edit" ng-click="saveEdit()"/>
							<button ng-show="Authetication.loggedIn && editableButton" type="button" class="btn btn-default" ng-model="addReviewButton" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0" ly-dynamicname="Add Review;Save" ng-click="addReview()"/>
						</div>
					</div>
					
										
				</fieldset>
			</form>
		</div>
	</div>
</div>
