<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ng="http://angularjs.org"  ng-app="LunchyApp">
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/styles.css" />
		<link rel="stylesheet" type="text/css" href="jquery-ui-1.11.0.custom/jquery-ui.css" />
		<script src="webjars/jquery/2.1.1/jquery.min.js"></script>
		<script src="webjars/jquery-ui/1.11.0/jquery-ui.min.js"></script>
		<script src="webjars/angularjs/1.3.0-beta.15/angular.js"></script>
		<script src="webjars/angularjs/1.3.0-beta.15/angular-resource.js"></script>
		<script src="webjars/angular-ui-utils/0.1.1/ui-utils.js"></script>
		<script src="js/cookie.js"></script>
		<script src="js/app.js"></script>
	</head>
	<body ng-controller="LunchyControllerMain">
	
		<div id="topbar">
			<span id="topbarLeft">
	    		<span>Browse</span> 
	    		<span>Add</span>
	    	</span>
	    	<span id="topbarRight">
	    		<span ng-hide="userLoggedIn">
		    		<span>
		    			<form name="loginForm" id="loginForm" ng-submit="submitLogin()" ng-controller="LunchyControllerLogin">
			    			<input type="text" placeholder="email" name="email" ng-model="email" /> 
			    			<input type="password" placeholder="password" name="password" ng-model="password" /> 
			    			<input type="submit" name="login" value="Login" class="simpleButton"/>
		    			</form>
		    		</span> 
		    		<span><a href="" ng-click="showRegister()">Register</a></span>
	    		</span>
	    		<span ng-show="userLoggedIn">
		    		<span><a href="">Settings</a></span>
		    		<span><a href="" ng-click="logout()">Log out</a></span> 
	    		</span>
	    	</span> 
	    	<hr/>
		</div>			

 		<div id="content">
		 	<div>
		   		latest updates
		   	</div>
		   	<ul>
				<li ng-repeat="update in latestUpdates"><a ng-href="{{update.ref}}">{{update.text}}</a></li>
			</ul>
		</div>
		
		<div id="registerFrame" ng-show="showRegisterFrame">
			<div id="registerDialog">
			
				<div class="header">
					Happy to welcome a new member!
				</div>
			
				<form novalidate name="registerForm" id="registerForm" ng-controller="LunchyControllerRegister">
	             	
	             	<div>
	             		<label for="email">Email:</label>
						<input type="email" placeholder="email" name="email" ng-model="email" ng-model-options="{ debounce: 1000 }" required unique="email" />
						<span class="errorInfo" ng-show="!registerForm.email.$error.required && !registerForm.email.$error.email && !registerForm.email.$error.unique">✔</span>
					</div>
					
	             	<div>
						<label for="nickname">Nickname:</label>
						<input type="text" placeholder="nickname" name="nickname" ng-model="nickname" required/> <span class="errorInfo" ng-show="!registerForm.nickname.$error.required">✔</span> 
					</div>
					
	             	<div>
						<label for="password">Password:</label>
						<input type="password" placeholder="password" name="password" ng-model="password" required/> <span class="errorInfo" ng-show="!registerForm.password.$error.required">✔</span>
					</div>
					
	             	<div>
						<label for="password2">Password verification:</label>
						<input type="password" placeholder="password" name="confirm_password" ng-model="confirm_password" ui-validate=" '$value==password' " ui-validate-watch=" 'password' "/> <span class="errorInfo" ng-show="!registerForm.confirm_password.$error.validator && !registerForm.password.$error.required">✔</span>
					</div>
					
	             	<div class="buttonPane">
	             		<span>
							<input type="button" ng-click="cancelRegister()" value="Cancel"/>
						</span>
						<span>				
							<input type="submit" name="register" value="Register" ng-click="submitRegister()" ng-disabled="registerForm.$invalid"/>
						</span>
					</div>
					
				</form>
			
			</div>
		</div>
		
	</body>
</html>
