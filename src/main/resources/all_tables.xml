<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" 
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.2.xsd"
	objectQuotingStrategy="QUOTE_ALL_OBJECTS">
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1407795125518-1">
        <createTable tableName="location">
            <column autoIncrement="true" name="id" type="INT(10)">
                <constraints primaryKey="true"/>
            </column>
            <column defaultValue="" name="officialname" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="streetname" type="VARCHAR(255)"/>
            <column defaultValue="" name="address" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="city" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="zip" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="country" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="url" type="VARCHAR(255)"/>
            <column name="comment" type="TEXT"/>
            <column name="turnAroundTime" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column name="createdOn" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="lastUpdate" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="fkUser" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column name="geo_lat" type="DOUBLE"/>
            <column name="geo_lng" type="DOUBLE"/>
            <column name="tags" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1407968041666-2">
        <createTable tableName="pictures">
            <column autoIncrement="true" name="id" type="INT(10)">
                <constraints primaryKey="true"/>
            </column>
            <column name="fkLocation" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column name="fkUser" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="filename" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="caption" type="VARCHAR(255)"/>
            <column defaultValueComputed="CURRENT_TIMESTAMP" name="createdOn" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1407795125518-2">
        <createTable tableName="reviews">
            <column autoIncrement="true" name="id" type="INT(10)">
                <constraints primaryKey="true"/>
            </column>
            <column name="fkUser" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column name="fkLocation" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column name="comment" type="TEXT"/>
            <column name="createdOn" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="lastUpdate" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="rating" type="INT(10)"/>
            <column name="favoriteMeal" type="TEXT"/>
        </createTable>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1407795125518-3">
        <createTable tableName="users">
            <column autoIncrement="true" name="id" type="INT(10)">
                <constraints primaryKey="true"/>
            </column>
            <column defaultValue="" name="email" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="password" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="displayname" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="createdOn" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="lastLogin" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="permissions" type="INT(10)">
                <constraints nullable="false"/>
            </column>
            <column name="passwordResetToken" type="VARCHAR(255)"/>
            <column name="passwordResetTimestamp" type="TIMESTAMP"/>
            <column name="longTimeToken" type="VARCHAR(255)"/>
            <column name="longTimeTimestamp" type="TIMESTAMP"/>
        </createTable>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1407795125518-4">
        <addUniqueConstraint columnNames="email" constraintName="email" deferrable="false" disabled="false" initiallyDeferred="false" tableName="users"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1407795125518-5">
        <addUniqueConstraint columnNames="fkUser, fkLocation" constraintName="fkUser" deferrable="false" disabled="false" initiallyDeferred="false" tableName="reviews"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-1">
        <createTable tableName="offices">
            <column autoIncrement="true" name="id" type="INT(10)">
                <constraints primaryKey="true"/>
            </column>
            <column defaultValue="" name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="geo_lat" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="geo_lng" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="zoomfactor" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-2">
        <addColumn tableName="users">
            <column name="fkBaseOffice" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-3">
        <addColumn tableName="location">
            <column name="fkOffice" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-4">
        <addColumn tableName="reviews">
            <column name="turnAroundTime" type="INT(10)"/>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-5">
        <addForeignKeyConstraint baseColumnNames="fkOffice" baseTableName="location" constraintName="fk_loc_off" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="offices"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-6">
        <addForeignKeyConstraint baseColumnNames="fkUser" baseTableName="location" constraintName="fk_loc_usr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-7">
        <addForeignKeyConstraint baseColumnNames="fkLocation" baseTableName="pictures" constraintName="fk_pic_loc" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-8">
        <addForeignKeyConstraint baseColumnNames="fkUser" baseTableName="pictures" constraintName="fk_pic_usr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-9">
        <addForeignKeyConstraint baseColumnNames="fkLocation" baseTableName="reviews" constraintName="fk_rev_loc" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="location"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-10">
        <addForeignKeyConstraint baseColumnNames="fkUser" baseTableName="reviews" constraintName="fk_rev_usr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408201702340-11">
        <addForeignKeyConstraint baseColumnNames="fkBaseOffice" baseTableName="users" constraintName="fk_usr_off" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="offices"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-1">
        <createTable tableName="communities">
            <column autoIncrement="true" name="id" type="INT(10)">
                <constraints primaryKey="true"/>
            </column>
            <column defaultValue="" name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="domain" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="adminEmail" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-2">
        <addColumn tableName="location">
            <column name="fkCommunity" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-3">
        <addColumn tableName="offices">
            <column name="fkCommunity" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-4">
        <addColumn tableName="pictures">
            <column name="fkCommunity" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-5">
        <addColumn tableName="reviews">
            <column name="fkCommunity" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-6">
        <addColumn tableName="users">
            <column name="fkCommunity" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  id="custom-2" author="oli (generated)">
    	<update tableName="location">
        	<column name="fkCommunity" valueNumeric="1"/>
    	</update>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  id="custom-3" author="oli (generated)">
    	<update tableName="offices">
        	<column name="fkCommunity" valueNumeric="1"/>
    	</update>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  id="custom-4" author="oli (generated)">
    	<update tableName="pictures">
        	<column name="fkCommunity" valueNumeric="1"/>
    	</update>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  id="custom-5" author="oli (generated)">
    	<update tableName="reviews">
        	<column name="fkCommunity" valueNumeric="1"/>
    	</update>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  id="custom-6" author="oli (generated)">
    	<update tableName="users">
        	<column name="fkCommunity" valueNumeric="1"/>
    	</update>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-7">
        <addForeignKeyConstraint baseColumnNames="fkCommunity" baseTableName="location" constraintName="fk_loc_com" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="communities"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-8">
        <addForeignKeyConstraint baseColumnNames="fkCommunity" baseTableName="offices" constraintName="fk_off_com" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="communities"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-9">
        <addForeignKeyConstraint baseColumnNames="fkCommunity" baseTableName="pictures" constraintName="fk_pic_com" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="communities"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-10">
        <addForeignKeyConstraint baseColumnNames="fkCommunity" baseTableName="reviews" constraintName="fk_rev_com" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="communities"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408224948427-11">
        <addForeignKeyConstraint baseColumnNames="fkCommunity" baseTableName="users" constraintName="fk_usr_com" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="communities"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408230701349-1">
        <addColumn tableName="offices">
            <column defaultValue="" name="country" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408311973443-1">
        <addColumn tableName="reviews">
            <column name="onSiteTime" type="INT(10)"/>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408311973443-2">
        <addColumn tableName="reviews">
            <column name="travelTime" type="INT(10)"/>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408311973443-3">
        <addUniqueConstraint columnNames="email, fkCommunity" constraintName="email_2" deferrable="false" disabled="false" initiallyDeferred="false" tableName="users"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408311973443-4">
        <dropUniqueConstraint constraintName="email" tableName="users"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408311973443-5">
        <dropColumn columnName="turnAroundTime" tableName="reviews"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408311973443-6">
        <dropNotNullConstraint columnDataType="int(10)" columnName="turnAroundTime" tableName="location"/>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  id="custom-7" author="oli (generated)">
		<preConditions onFail="MARK_RAN">
			<dbms type="mysql"/>
 		</preConditions>
    	<sql>update reviews set onSiteTime = (select turnAroundTime/2 from location where location.id=fkLocation), travelTime = (select turnAroundTime/2 from location where location.id=fkLocation)</sql>
    </changeSet>    

	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-1">
		<renameColumn tableName="communities" columnDataType="VARCHAR(255)"
			newColumnName="admin_Email" oldColumnName="adminEmail" />
	</changeSet>

	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-2">
		<renameColumn tableName="location"
			columnDataType="TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00'"
			newColumnName="created_On" oldColumnName="createdOn" />
	</changeSet>

	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-3">
		<renameColumn tableName="pictures"
			columnDataType="TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00'"
			newColumnName="created_On" oldColumnName="createdOn" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-4">
		<renameColumn tableName="reviews"
			columnDataType="TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00'"
			newColumnName="created_On" oldColumnName="createdOn" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-5">
		<renameColumn tableName="users"
			columnDataType="TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00'"
			newColumnName="created_On" oldColumnName="createdOn" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-6">
		<renameColumn tableName="reviews" columnDataType="TEXT(65535)"
			newColumnName="favorite_Meal" oldColumnName="favoriteMeal" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-7">
		<renameColumn tableName="users" columnDataType="INT(10)"
			newColumnName="fk_Base_Office" oldColumnName="fkBaseOffice" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-8">
		<renameColumn tableName="location" columnDataType="INT(10)"
			newColumnName="fk_Community" oldColumnName="fkCommunity" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-9">
		<renameColumn tableName="offices" columnDataType="INT(10)"
			newColumnName="fk_Community" oldColumnName="fkCommunity" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-10">
		<renameColumn tableName="pictures" columnDataType="INT(10)"
			newColumnName="fk_Community" oldColumnName="fkCommunity" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-11">
		<renameColumn tableName="reviews" columnDataType="INT(10)"
			newColumnName="fk_Community" oldColumnName="fkCommunity" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-12">
		<renameColumn tableName="users" columnDataType="INT(10)"
			newColumnName="fk_Community" oldColumnName="fkCommunity" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-13">
		<renameColumn tableName="pictures" columnDataType="INT(10)"
			newColumnName="fk_Location" oldColumnName="fkLocation" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-14">
		<renameColumn tableName="reviews" columnDataType="INT(10)"
			newColumnName="fk_Location" oldColumnName="fkLocation" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-15">
		<renameColumn tableName="location" columnDataType="INT(10)"
			newColumnName="fk_Office" oldColumnName="fkOffice" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-16">
		<renameColumn tableName="location" columnDataType="INT(10)"
			newColumnName="fk_User" oldColumnName="fkUser" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-17">
		<renameColumn tableName="pictures" columnDataType="INT(10)"
			newColumnName="fk_User" oldColumnName="fkUser" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-18">
		<renameColumn tableName="reviews" columnDataType="INT(10)"
			newColumnName="fk_User" oldColumnName="fkUser" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-19">
		<renameColumn tableName="users" columnDataType="TIMESTAMP(19)"
			newColumnName="last_Login" oldColumnName="lastLogin" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-20">
		<renameColumn tableName="reviews" columnDataType="TIMESTAMP(19)"
			newColumnName="last_Update" oldColumnName="lastUpdate" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408656902906-21">
		<renameColumn tableName="location" columnDataType="TIMESTAMP(19)"
			newColumnName="last_Update" oldColumnName="lastUpdate" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-22">
		<renameColumn tableName="users" columnDataType="TIMESTAMP NULL DEFAULT NULL"
			newColumnName="long_Time_Timestamp" oldColumnName="longTimeTimestamp" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-23">
		<renameColumn tableName="users" columnDataType="VARCHAR(255)"
			newColumnName="long_Time_Token" oldColumnName="longTimeToken" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-24">
		<renameColumn tableName="location" columnDataType="VARCHAR(255)"
			newColumnName="official_Name" oldColumnName="officialname" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-25">
		<renameColumn tableName="reviews" columnDataType="INT(10)"
			newColumnName="on_Site_Time" oldColumnName="onSiteTime" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-26">
		<renameColumn tableName="users" columnDataType="TIMESTAMP NULL DEFAULT NULL"
			newColumnName="password_Reset_Timestamp" oldColumnName="passwordResetTimestamp" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-27">
		<renameColumn tableName="users" columnDataType="VARCHAR(255)"
			newColumnName="password_Reset_Token" oldColumnName="passwordResetToken" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-28">
		<renameColumn tableName="location" columnDataType="VARCHAR(255)"
			newColumnName="street_Name" oldColumnName="streetname" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-29">
		<renameColumn tableName="reviews" columnDataType="INT(10)"
			newColumnName="travel_Time" oldColumnName="travelTime" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-30">
		<renameColumn tableName="location" columnDataType="INT(10)"
			newColumnName="turn_Around_Time" oldColumnName="turnAroundTime" />
	</changeSet>
	
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408653848650-31">
		<renameColumn tableName="location" columnDataType="DOUBLE"
			newColumnName="geo_Lat" oldColumnName="geo_lat" />
		<renameColumn tableName="location" columnDataType="DOUBLE"
			newColumnName="geo_Lng" oldColumnName="geo_lng" />
		<renameColumn tableName="offices" columnDataType="DOUBLE"
			newColumnName="geo_Lat" oldColumnName="geo_lat" />
		<renameColumn tableName="offices" columnDataType="DOUBLE"
			newColumnName="geo_Lng" oldColumnName="geo_lng" />
	</changeSet>

	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-3">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="address" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-4">
		<addNotNullConstraint columnDataType="varchar(255)"
			columnName="admin_Email" tableName="communities" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-5">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="city" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-6">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="country" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-7">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="country" tableName="offices" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-8">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="displayname" tableName="users" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-9">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="domain" tableName="communities" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-10">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="email" tableName="users" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-11">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="filename" tableName="pictures" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-12">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Base_Office" tableName="users" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-13">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Community" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-14">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Community" tableName="offices" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-15">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Community" tableName="pictures" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-16">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Community" tableName="reviews" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-17">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Community" tableName="users" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-18">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Location" tableName="pictures" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-19">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Location" tableName="reviews" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-20">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_Office" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-21">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_User" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-22">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_User" tableName="pictures" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-23">
		<addNotNullConstraint columnDataType="int(10)"
			columnName="fk_User" tableName="reviews" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-24">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="name" tableName="communities" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-25">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="name" tableName="offices" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-26">
		<addNotNullConstraint columnDataType="varchar(255)"
			columnName="official_Name" tableName="location" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-27">
		<dropDefaultValue columnDataType="varchar(255)"
			columnName="password" tableName="users" />
	</changeSet>
	<changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408748644497-28">
		<dropNotNullConstraint columnDataType="varchar(255)"
			columnName="zip" tableName="location" />		
	</changeSet>

    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408917616128-1">
        <addColumn tableName="users">
            <column name="email_Updates" type="INT(10)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408917616128-2">
        <addColumn tableName="users">
            <column name="last_Email_Update" type="TIMESTAMP(19)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet objectQuotingStrategy="QUOTE_ALL_OBJECTS"  author="oli (generated)" id="1408917616128-3">
        <addColumn tableName="users">
            <column name="next_Email_Update" type="TIMESTAMP(19)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
        
</databaseChangeLog>
